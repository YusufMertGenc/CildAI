<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <title>CildAI â€“ Dijital Cilt Analiz AsistanÄ±</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="header">
      <img src="logoooo.jpg" alt="CildAI Logo" class="logo" />
      <h1>CildAI</h1>
      <p class="subtitle">Cilt saÄŸlÄ±ÄŸÄ±nÄ±z iÃ§in yapay zekÃ¢ destekli analiz asistanÄ±</p>
    </div>

    <section class="intro-box">
      <p>ğŸ“· Cilt problemini gÃ¶steren bir fotoÄŸraf yÃ¼kleyin. AÃ§Ä±klama eklerseniz daha doÄŸru sonuÃ§lar alÄ±rsÄ±nÄ±z. Gemini modeli saniyeler iÃ§inde analiz eder.</p>
    </section>

    <form id="uploadForm" class="upload-section">
      <div class="upload-card">
        <h2>ğŸ”¬ Analize BaÅŸla</h2>
        <p>GÃ¶rsel yÃ¼kleyin, aÃ§Ä±klama girin ve analiz butonuna tÄ±klayÄ±n.</p>

        <!-- FotoÄŸraf SeÃ§ butonu -->
        <label for="imageInput" class="custom-file-upload">+ FotoÄŸraf SeÃ§</label>
        <input type="file" id="imageInput" accept="image/*" required hidden />

        <!-- FotoÄŸraf Ã‡ek Butonu -->
        <button type="button" id="start-camera">ğŸ“¸ FotoÄŸraf Ã‡ek</button>
        <div id="camera" style="display: none;">
          <video id="video" width="320" height="240" autoplay></video>
          <button type="button" id="snap">FotoÄŸraf Ã‡ek</button>
        </div>

        <!-- Ã‡ekilen FotoÄŸraf -->
        <div id="photo-preview" style="display: none;">
          <canvas id="snapshot" width="320" height="240"></canvas>
          <button type="button" id="remove-photo">âŒ FotoÄŸrafÄ± KaldÄ±r</button>
        </div>

        <textarea id="userNotes" placeholder="Varsa belirtmek istediÄŸiniz belirtiler veya notlar..." rows="4"></textarea>

        <button type="submit">ğŸ” Analizi BaÅŸlat</button>
      </div>
    </form>

    <div id="result" class="result-box"></div>

    <footer class="footer">
      <p>Â© 2025 CildAI | GeliÅŸtirici Bootcamp Projesi</p>
    </footer>

    <script src="script.js"></script>
    <script>
      // Kamera baÅŸlatma ve fotoÄŸraf Ã§ekme iÅŸlemleri
      const startCameraButton = document.getElementById('start-camera');
      const cameraDiv = document.getElementById('camera');
      const videoElement = document.getElementById('video');
      const snapButton = document.getElementById('snap');
      const snapshotCanvas = document.getElementById('snapshot');
      const context = snapshotCanvas.getContext('2d');
      const photoPreview = document.getElementById('photo-preview');
      const removePhotoButton = document.getElementById('remove-photo');

      startCameraButton.addEventListener('click', function() {
        cameraDiv.style.display = 'block'; // KamerayÄ± gÃ¶ster
        startCamera(); // KamerayÄ± baÅŸlat
        startCameraButton.style.display = 'none'; // FotoÄŸraf Ã§ekme butonunu gizle
      });

      // KamerayÄ± baÅŸlatma
      function startCamera() {
        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
          navigator.mediaDevices.getUserMedia({ video: true })
            .then(function(stream) {
              videoElement.srcObject = stream;
            })
            .catch(function(error) {
              console.error("Kamera baÅŸlatÄ±lamadÄ±: ", error);
            });
        } else {
          alert("Kamera desteÄŸi bulunamadÄ±.");
        }
      }

      // FotoÄŸraf Ã§ekme iÅŸlemi
      snapButton.addEventListener('click', function() {
        context.drawImage(videoElement, 0, 0, snapshotCanvas.width, snapshotCanvas.height);
        snapshotCanvas.style.display = 'block'; // FotoÄŸrafÄ± gÃ¶ster
        photoPreview.style.display = 'block'; // FotoÄŸraf Ã¶nizlemesini gÃ¶ster
        cameraDiv.style.display = 'none'; // KamerayÄ± gizle
      });

      // FotoÄŸrafÄ± kaldÄ±rma iÅŸlemi
      removePhotoButton.addEventListener('click', function() {
        snapshotCanvas.style.display = 'none';
        photoPreview.style.display = 'none';
        startCameraButton.style.display = 'block'; // FotoÄŸraf Ã§ekme butonunu geri getir
      });

      // FotoÄŸraf seÃ§me iÅŸlemi
      const fileInput = document.getElementById('imageInput');
      fileInput.addEventListener('change', function(event) {
        const file = event.target.files[0];
        if (file) {
          // Burada dosya yÃ¼kleme iÅŸlemi yapÄ±labilir.
          alert("FotoÄŸraf baÅŸarÄ±yla seÃ§ildi: " + file.name);
        }
      });

      // Analiz baÅŸlat butonuna tÄ±klanmasÄ±
      const analyzeButton = document.querySelector('form button[type="submit"]');
      analyzeButton.addEventListener('click', function(e) {
        e.preventDefault(); // Formun sayfayÄ± yeniden yÃ¼klemesini engelle
        const comment = document.getElementById('userNotes').value;
        alert("Analiz baÅŸlatÄ±ldÄ±! Yorum: " + comment);
        // Burada fotoÄŸraf ve yorumla ilgili API'yi Ã§aÄŸÄ±rabilirsiniz.
      });
    </script>
  </body>
</html>
